<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZMAX - تعلم HTML من الصفر للإحتراف</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6C63FF;
            --primary-dark: #5651d6;
            --secondary: #FF6584;
            --accent: #36D1DC;
            --success: #4CAF50;
            --warning: #FF9800;
            --dark: #1A1A2E;
            --darker: #0F0F1C;
            --light: #FFFFFF;
            --gray: #8A8A9D;
            --card-bg: rgba(255, 255, 255, 0.08);
            --border-radius: 16px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--darker), var(--dark));
            color: var(--light);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* شاشة البداية */
        .start-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
            padding: 20px;
        }

        .logo {
            margin-bottom: 40px;
        }

        .logo .brand {
            font-size: 42px;
            font-weight: 800;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .logo .tagline {
            font-size: 18px;
            color: var(--gray);
            margin-bottom: 30px;
        }

        .hero-icon {
            font-size: 120px;
            color: var(--primary);
            margin-bottom: 30px;
            animation: float 6s ease-in-out infinite;
        }

        .html-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 40px;
            width: 100%;
            max-width: 800px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            margin: 30px 0;
        }

        .html-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(to right, var(--primary), var(--accent));
        }

        .html-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--box-shadow);
            background: rgba(255, 255, 255, 0.12);
        }

        .card-title {
            font-size: 28px;
            margin-bottom: 15px;
            color: var(--light);
        }

        .card-description {
            color: var(--gray);
            margin-bottom: 25px;
            font-size: 18px;
        }

        .features {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 25px;
            text-align: right;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
        }

        .feature i {
            color: var(--success);
            font-size: 18px;
        }

        .start-btn {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.4);
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(108, 99, 255, 0.6);
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* نافذة كلمة المرور */
        .password-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
            padding: 20px;
        }

        .password-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 40px;
            width: 100%;
            max-width: 500px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            margin: 30px 0;
        }

        .password-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(to right, var(--primary), var(--accent));
        }

        .password-input {
            width: 100%;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
            color: var(--light);
            font-size: 16px;
            transition: var(--transition);
        }

        .password-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(108, 99, 255, 0.3);
        }

        .password-btn {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.4);
            margin: 10px auto;
        }

        .password-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(108, 99, 255, 0.6);
        }

        .error-message {
            color: var(--secondary);
            margin-top: 15px;
            display: none;
        }

        .back-to-home {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 15px;
        }

        .back-to-home:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* واجهة التعلم */
        .learning-interface {
            display: none;
            min-height: 100vh;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-title i {
            font-size: 24px;
            color: var(--primary);
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .progress-bar {
            width: 200px;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease;
            background: linear-gradient(to right, var(--primary), var(--accent));
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--light);
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* منطقة المحتوى */
        .content-area {
            display: flex;
            min-height: calc(100vh - 80px);
        }

        .lessons-sidebar {
            width: 320px;
            background: rgba(0, 0, 0, 0.3);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            padding: 25px;
            overflow-y: auto;
        }

        .sidebar-title {
            font-size: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary);
        }

        .lesson-item {
            padding: 16px;
            margin-bottom: 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255, 255, 255, 0.05);
        }

        .lesson-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .lesson-item.active {
            background: rgba(108, 99, 255, 0.2);
            border-right: 4px solid var(--primary);
        }

        .lesson-item.completed .lesson-title {
            color: var(--success);
        }

        .lesson-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(108, 99, 255, 0.2);
            color: var(--primary);
            font-size: 18px;
        }

        .lesson-info {
            flex: 1;
        }

        .lesson-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .lesson-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .lesson-header {
            margin-bottom: 30px;
        }

        .lesson-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--light);
        }

        .lesson-header p {
            color: var(--gray);
            font-size: 18px;
        }

        .explanation {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 30px;
            border-right: 4px solid var(--primary);
        }

        .interactive-demo {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 30px;
            border-right: 4px solid var(--warning);
        }

        .demo-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 20px;
        }

        .demo-title i {
            color: var(--warning);
        }

        .demo-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .code-editor, .output-container {
            flex: 1;
            background: #1E1E2E;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .editor-header, .output-header {
            background: #2D2D42;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--light);
            font-weight: 600;
        }

        .run-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: var(--transition);
        }

        .run-btn:hover {
            background: var(--primary-dark);
        }

        .code-area {
            width: 100%;
            min-height: 300px;
            background: #1E1E2E;
            color: #F8F8F2;
            border: none;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            resize: vertical;
            outline: none;
            line-height: 1.5;
        }

        .output-content {
            padding: 20px;
            min-height: 300px;
            background: #0D1B2A;
            color: #F8F8F2;
            font-family: 'Tajawal', sans-serif;
        }

        .exercise {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 30px;
            border-right: 4px solid var(--success);
        }

        .exercise-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .exercise-title i {
            color: var(--success);
        }

        .hint {
            background: rgba(255, 152, 0, 0.1);
            border-right: 3px solid var(--warning);
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
            display: none;
        }

        .show-hint {
            background: transparent;
            border: 1px solid var(--warning);
            color: var(--warning);
            padding: 8px 15px;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 10px;
        }

        .show-hint:hover {
            background: rgba(255, 152, 0, 0.1);
        }

        .success-message {
            background: rgba(76, 175, 80, 0.1);
            border-right: 3px solid var(--success);
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
            display: none;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-btn {
            padding: 12px 25px;
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn.prev {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-btn.next {
            background: var(--primary);
        }

        .nav-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }

        .nav-btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* أنيميشنز */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .shake {
            animation: shake 0.5s ease-in-out;
        }

        /* تصميم متجاوب */
        @media (max-width: 1100px) {
            .demo-container {
                flex-direction: column;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 900px) {
            .content-area {
                flex-direction: column;
            }
            
            .lessons-sidebar {
                width: 100%;
                border-left: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .progress-container {
                width: 100%;
                justify-content: space-between;
            }
        }

        @media (max-width: 600px) {
            .html-card, .password-card {
                padding: 25px;
            }
            
            .logo .brand {
                font-size: 32px;
            }
            
            .hero-icon {
                font-size: 80px;
            }
        }

        /* تنسيقات إضافية */
        .tag {
            color: #FF79C6;
            font-weight: bold;
        }

        .attribute {
            color: #50FA7B;
        }

        .value {
            color: #F1FA8C;
        }

        .comment {
            color: #6272A4;
        }

        .tip-box {
            background: rgba(54, 209, 220, 0.1);
            border: 1px solid var(--accent);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }

        .tip-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            color: var(--accent);
        }

        .motivation-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
        }

        .motivation-text {
            font-size: 18px;
            text-align: center;
            line-height: 1.8;
        }

        .quote {
            font-style: italic;
            color: var(--accent);
            font-size: 20px;
            text-align: center;
            margin: 20px 0;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 16px;
            color: var(--gray);
        }

        .code-block {
            background: #1E1E2E;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            line-height: 1.5;
        }

        .structure-diagram {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-right: 4px solid var(--primary);
        }

        .diagram-line {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding-right: 20px;
        }

        .diagram-line .tag {
            margin-left: 10px;
        }

        .indent-1 { padding-right: 20px; }
        .indent-2 { padding-right: 40px; }
        .indent-3 { padding-right: 60px; }

        /* شهادة التخرج */
        .certificate {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            color: white;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            margin: 30px 0;
            border: 10px solid #FFD700;
        }

        .certificate::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            animation: rotate 20s linear infinite;
        }

        .certificate-content {
            position: relative;
            z-index: 2;
            background: rgba(0, 0, 0, 0.7);
            padding: 40px;
            border-radius: 15px;
        }

        .certificate-title {
            font-size: 42px;
            font-weight: 800;
            margin-bottom: 20px;
            color: #FFD700;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .certificate-subtitle {
            font-size: 24px;
            margin-bottom: 30px;
            color: #FFFFFF;
        }

        .certificate-text {
            font-size: 20px;
            margin-bottom: 25px;
            line-height: 1.8;
        }

        .student-name {
            font-size: 36px;
            font-weight: 700;
            color: #36D1DC;
            margin: 20px 0;
            text-decoration: underline;
            text-underline-offset: 8px;
        }

        .certificate-details {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            border-top: 2px solid rgba(255, 255, 255, 0.3);
            padding-top: 20px;
        }

        .detail-item {
            text-align: center;
        }

        .detail-label {
            font-size: 16px;
            color: #CCCCCC;
            margin-bottom: 5px;
        }

        .detail-value {
            font-size: 18px;
            font-weight: 600;
        }

        .certificate-footer {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .signature {
            text-align: center;
        }

        .signature-line {
            width: 200px;
            height: 1px;
            background: white;
            margin: 5px auto;
        }

        .print-btn {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.4);
        }

        .print-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(108, 99, 255, 0.6);
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media print {
            body * {
                visibility: hidden;
            }
            .certificate, .certificate * {
                visibility: visible;
            }
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none;
            }
            .print-btn {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- شاشة البداية -->
        <div class="start-screen" id="start-screen">
            <div class="logo">
                <div class="brand">ZMAX</div>
                <div class="tagline">منصة تعلم البرمجة التفاعلية</div>
                <i class="fas fa-laptop-code hero-icon"></i>
            </div>
            
            <div class="html-card">
                <h2 class="card-title">ابدأ رحلتك في برمجة الويب</h2>
                <p class="card-description">
                    HTML هي اللغة الأساسية لبناء مواقع الويب. مع ZMAX، ستتعلم كيفية إنشاء صفحات ويب رائعة من الصفر وبطريقة تفاعلية وسهلة.
                </p>
                
                <div class="features">
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>دروس تفاعلية</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>تمارين عملية</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>مشاريع حقيقية</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>معاينة فورية</span>
                    </div>
                </div>
                
                <div class="motivation-section">
                    <p class="motivation-text">
                        تعلم البرمجة هو أحد أفضل الاستثمارات في عصرنا الرقمي. ليس فقط لأنها تفتح أبواباً للعمل والابتكار، بل لأنها تعلمك التفكير المنطقي وحل المشكلات بطريقة منهجية.
                    </p>
                    <p class="quote">
                        "البرمجة ليست مجرد كتابة أكواد، بل هي فن حل المشكلات وإبداع حلول تكنولوجية تغير العالم"
                    </p>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-number">+90%</div>
                            <div class="stat-label">نمو في وظائف البرمجة</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">6 أشهر</div>
                            <div class="stat-label">متوسط وقت الإحتراف</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">x3</div>
                            <div class="stat-label">متوسط زيادة الدخل</div>
                        </div>
                    </div>
                </div>
                
                <button class="start-btn pulse" id="start-learning">
                    ابدأ التعلم الآن <i class="fas fa-arrow-left"></i>
                </button>
            </div>
        </div>

        <!-- نافذة كلمة المرور -->
        <div class="password-screen" id="password-screen">
            <div class="logo">
                <div class="brand">ZMAX</div>
                <div class="tagline">الوصول إلى المنصة التعليمية</div>
                <i class="fas fa-lock hero-icon"></i>
            </div>
            
            <div class="password-card">
                <h2 class="card-title">أدخل كلمة المرور</h2>
                <p class="card-description">
                    يرجى إدخال كلمة المرور للوصول إلى المنصة التعليمية
                </p>
                
                <input type="password" class="password-input" id="password-input" placeholder="أدخل كلمة المرور هنا">
                
                <button class="password-btn" id="submit-password">
                    تأكيد <i class="fas fa-key"></i>
                </button>
                
                <div class="error-message" id="password-error">
                    <i class="fas fa-exclamation-circle"></i> كلمة المرور غير صحيحة، يرجى المحاولة مرة أخرى
                </div>
                
                <button class="back-to-home" id="back-to-start-from-password">
                    <i class="fas fa-home"></i> العودة إلى الصفحة الرئيسية
                </button>
            </div>
        </div>

        <!-- واجهة التعلم -->
        <div class="learning-interface" id="learning-interface">
            <div class="header">
                <div class="header-title">
                    <i class="fas fa-graduation-cap"></i>
                    <h2>دورة HTML المتكاملة</h2>
                </div>
                
                <div class="progress-container">
                    <span id="progress-text">0% مكتمل</span>
                    <div class="progress-bar">
                        <div class="progress" id="global-progress" style="width:0%"></div>
                    </div>
                    <button class="back-btn" id="back-to-start">
                        <i class="fas fa-home"></i> العودة
                    </button>
                </div>
            </div>
            
            <div class="content-area">
                <div class="lessons-sidebar">
                    <h3 class="sidebar-title">
                        <i class="fas fa-list"></i> الدروس
                    </h3>
                    <ul class="lessons-list" id="lessons-list"></ul>
                </div>
                
                <div class="lesson-content" id="lesson-content">
                    <!-- سيتم تعبئة المحتوى هنا عبر JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // بيانات الدروس
        const htmlLessons = [
            {
                id: 1,
                title: "كيفية بداية كتابة HTML",
                completed: false,
                content: {
                    title: "كيف تبدأ كتابة كود HTML من الصفر",
                    explanation: `
                        <h3>البداية الصحيحة لكتابة HTML</h3>
                        <p>لبداية كتابة كود HTML، تحتاج إلى فهم الهيكل الأساسي لأي صفحة ويب. دعنا نبدأ بأبسط هيكل ممكن:</p>
                        
                        <div class="structure-diagram">
                            <div class="diagram-line"><span class="tag">&lt;!DOCTYPE html&gt;</span> <span class="comment">← يحدد نوع المستند</span></div>
                            <div class="diagram-line"><span class="tag">&lt;html&gt;</span> <span class="comment">← بداية صفحة HTML</span></div>
                            <div class="diagram-line indent-1"><span class="tag">&lt;head&gt;</span> <span class="comment">← معلومات عن الصفحة</span></div>
                            <div class="diagram-line indent-2"><span class="tag">&lt;title&gt;</span>عنوان الصفحة<span class="tag">&lt;/title&gt;</span></div>
                            <div class="diagram-line indent-1"><span class="tag">&lt;/head&gt;</span></div>
                            <div class="diagram-line indent-1"><span class="tag">&lt;body&gt;</span> <span class="comment">← محتوى الصفحة المرئي</span></div>
                            <div class="diagram-line indent-2"><span class="tag">&lt;h1&gt;</span>مرحباً بالعالم!<span class="tag">&lt;/h1&gt;</span></div>
                            <div class="diagram-line indent-1"><span class="tag">&lt;/body&gt;</span></div>
                            <div class="diagram-line"><span class="tag">&lt;/html&gt;</span> <span class="comment">← نهاية صفحة HTML</span></div>
                        </div>
                        
                        <h3>الخطوات الأساسية للبدء:</h3>
                        <ol style="padding-right: 20px; margin: 15px 0;">
                            <li>ابدأ دائماً بـ <span class="tag">&lt;!DOCTYPE html&gt;</span> لتحديد نوع المستند</li>
                            <li>افتح وسم <span class="tag">&lt;html&gt;</span> لتحديد بداية الصفحة</li>
                            <li>أضف قسم <span class="tag">&lt;head&gt;</span> للمعلومات غير المرئية</li>
                            <li>ضع عنوان الصفحة داخل <span class="tag">&lt;title&gt;</span></li>
                            <li>أضف قسم <span class="tag">&lt;body&gt;</span> للمحتوى المرئي</li>
                            <li>أغلق جميع الوسوم بشكل صحيح باستخدام <span class="tag">&lt;/اسم الوسم&gt;</span></li>
                        </ol>
                        
                        <div class="tip-box">
                            <div class="tip-title">
                                <i class="fas fa-lightbulb"></i>
                                <span>نصيحة للمبتدئين</span>
                            </div>
                            <p>لا تقلق إذا بدت الأمور معقدة في البداية. مع الممارسة، ستصبح كتابة HTML طبيعة ثانية لك!</p>
                        </div>
                        
                        <div class="motivation-section">
                            <p class="motivation-text">
                                تذكر أن كل المبرمجين المحترفين بدأوا من الصفر. المهم هو البدء والممارسة المستمرة. أنت على الطريق الصحيح!
                            </p>
                        </div>
                    `,
                    interactive: `
                        <textarea class="code-area" id="code-1"><!DOCTYPE html>
<html>
<head>
    <title>أول صفحة ويب لي</title>
</head>
<body>
    <h1>مرحباً! هذه بدايتي في البرمجة</h1>
    <p>أنا أتعلم HTML خطوة بخطوة.</p>
    <p>هذا النص سيكون مرئياً في المتصفح.</p>
</body>
</html></textarea>
                    `,
                    preview: `<h1>مرحباً! هذه بدايتي في البرمجة</h1><p>أنا أتعلم HTML خطوة بخطوة.</p><p>هذا النص سيكون مرئياً في المتصفح.</p>`,
                    exercise: `<p><strong>جرب بنفسك:</strong> قم بتغيير النص داخل الوسوم &lt;h1&gt; و &lt;p&gt; واكتب شيئاً عن نفسك!</p>`
                }
            },
            {
                id: 2,
                title: "مقدمة إلى HTML",
                completed: false,
                content: {
                    title: "ما هي HTML؟",
                    explanation: `
                        <p>HTML هي اللغة الأساسية لبناء مواقع الويب. اختصار لـ <strong>HyperText Markup Language</strong>.</p>
                        <p>تستخدم HTML لإنشاء هيكل صفحات الويب وتنظيم المحتوى.</p>
                        
                        <div class="tip-box">
                            <div class="tip-title">
                                <i class="fas fa-lightbulb"></i>
                                <span>معلومة سريعة</span>
                            </div>
                            <p>كل موقع ويب تستخدمه مَبني باستخدام HTML!</p>
                        </div>
                        
                        <h3>مكونات HTML الأساسية:</h3>
                        <ul style="padding-right: 20px; margin-top: 10px;">
                            <li><span class="tag">الوسوم (Tags)</span> - لتحديد أنواع المحتوى</li>
                            <li><span class="attribute">الخصائص (Attributes)</span> - لتحديد خصائص الوسوم</li>
                            <li><span class="value">المحتوى (Content)</span> - النص والعناصر داخل الوسوم</li>
                        </ul>
                        
                        <div class="motivation-section">
                            <p class="motivation-text">
                                تعلم HTML هو الخطوة الأولى في رحلة برمجة الويب. بمجرد إتقانها، ستتمكن من إنشاء هيكل أي موقع ويب، وهي مهارة مطلوبة بشدة في سوق العمل.
                            </p>
                        </div>
                    `,
                    interactive: `
                        <textarea class="code-area" id="code-2"><!DOCTYPE html>
<html>
<head>
    <title>أول صفحة ويب لي</title>
</head>
<body>
    <h1>مرحباً بالعالم!</h1>
    <p>هذه أول صفحة ويب أقوم بإنشائها.</p>
    <p>اسمي: <strong>أكتب اسمك هنا</strong></p>
</body>
</html></textarea>
                    `,
                    preview: `<h1>مرحباً بالعالم!</h1><p>هذه أول صفحة ويب أقوم بإنشائها.</p><p>اسمي: <strong>أكتب اسمك هنا</strong></p>`,
                    exercise: `<p><strong>جرب بنفسك:</strong> قم بتغيير النص داخل الوسوم واكتب اسمك!</p>`
                }
            },
            {
                id: 3,
                title: "الوسوم الأساسية",
                completed: false,
                content: {
                    title: "الوسوم الأساسية في HTML",
                    explanation: `
                        <p>الوسوم (Tags) هي أساس HTML. كل وسم له وظيفة محددة:</p>
                        
                        <h3>أهم الوسوم:</h3>
                        <ul style="padding-right: 20px; margin-top: 10px;">
                            <li><span class="tag">&lt;h1&gt;</span> إلى <span class="tag">&lt;h6&gt;</span> - للعناوين (من الأكبر إلى الأصغر)</li>
                            <li><span class="tag">&lt;p&gt;</span> - للفقرات النصية</li>
                            <li><span class="tag">&lt;strong&gt;</span> - للنص الغامق (المهم)</li>
                            <li><span class="tag">&lt;em&gt;</span> - للنص المائل (التأكيد)</li>
                            <li><span class="tag">&lt;br&gt;</span> - لفصل الأسطر (لا يحتاج وسم إغلاق)</li>
                        </ul>
                        
                        <div class="tip-box">
                            <div class="tip-title">
                                <i class="fas fa-lightbulb"></i>
                                <span>كيف تعمل الوسوم</span>
                            </div>
                            <p>معظم الوسوم تفتح <span class="tag">&lt;اسم الوسم&gt;</span> وتغلق <span class="tag">&lt;/اسم الوسم&gt;</span></p>
                        </div>
                        
                        <div class="motivation-section">
                            <p class="motivation-text">
                                إتقان الوسوم الأساسية هو أساس بناء صفحات الويب. هذه المهارات هي التي تميز المبرمج المحترف عن المبتدئ.
                            </p>
                        </div>
                    `,
                    interactive: `
                        <textarea class="code-area" id="code-3"><h1>هذا عنوان رئيسي كبير</h1>
<h2>هذا عنوان أصغر قليلاً</h2>
<h3>وهذا أصغر منه</h3>

<p>هذه فقرة نصية عادية يمكن كتابة أي محتوى بداخلها</p>

<p>هذا نص <strong>غامق ومهم</strong> داخل الفقرة</p>

<p>وهذا نص <em>مائل للتأكيد</em> على شيء معين</p>

<p>يمكنني أيضاً استخدام <strong><em>نص غامق ومائل معاً</em></strong></p>

<p>هذا سطر أول<br>وهذا سطر ثان بعد سطر فاصل</p></textarea>
                    `,
                    preview: `<h1>هذا عنوان رئيسي كبير</h1><h2>هذا عنوان أصغر قليلاً</h2><h3>وهذا أصغر منه</h3><p>هذه فقرة نصية عادية يمكن كتابة أي محتوى بداخلها</p><p>هذا نص <strong>غامق ومهم</strong> داخل الفقرة</p><p>وهذا نص <em>مائل للتأكيد</em> على شيء معين</p><p>يمكنني أيضاً استخدام <strong><em>نص غامق ومائل معاً</em></strong></p><p>هذا سطر أول<br>وهذا سطر ثان بعد سطر فاصل</p>`,
                    exercise: `<p><strong>جرب بنفسك:</strong> أنشئ عنواناً باسمك واكتب فقرة عن هواياتك باستخدام النص الغامق والمائل</p>`
                }
            },
            {
                id: 4,
                title: "القوائم",
                completed: false,
                content: {
                    title: "كيفية إنشاء القوائم",
                    explanation: `
                        <p>تستخدم القوائم لتنظيم المعلومات في نقاط مرقمة أو غير مرقمة.</p>
                        
                        <h3>أنواع القوائم:</h3>
                        <ul style="padding-right: 20px; margin-top: 10px;">
                            <li><span class="tag">&lt;ul&gt;</span> - قائمة غير مرتبة (نقاط)</li>
                            <li><span class="tag">&lt;ol&gt;</span> - قائمة مرتبة (أرقام)</li>
                            <li><span class="tag">&lt;li&gt;</span> - عنصر في القائمة (يستخدم داخل ul أو ol)</li>
                        </ul>
                        
                        <div class="tip-box">
                            <div class="tip-title">
                                <i class="fas fa-lightbulb"></i>
                                <span>متى نستخدم كل نوع؟</span>
                            </div>
                            <p>استخدم القوائم المرقمة عندما يكون الترتيب مهماً (خطوات، ترتيب زمني). استخدم غير المرقمة للقوائم العامة.</p>
                        </div>
                        
                        <div class="motivation-section">
                            <p class="motivation-text">
                                تنظيم المعلومات هو مهارة أساسية في البرمجة. القوائم تساعد في تقديم المحتوى بطريقة واضحة ومنظمة للمستخدمين.
                            </p>
                        </div>
                    `,
                    interactive: `
                        <textarea class="code-area" id="code-4"><h3>أطعمة أحبها (قائمة غير مرتبة)</h3>
<ul>
    <li>بيتزا</li>
    <li>شوكولاتة</li>
    <li>فواكه</li>
</ul>

<h3>أفضل 3 أفلام عندي (قائمة مرتبة)</h3>
<ol>
    <li>فيلم الحرية</li>
    <li>فيلم الإبداع</li>
    <li>فيلم النجاح</li>
</ol>

<h3>مهامي اليومية</h3>
<ol>
    <li>الصلاة</li>
    <li>الدراسة</li>
    <li>ممارسة الرياضة</li>
</ol></textarea>
                    `,
                    preview: `<h3>أطعمة أحبها (قائمة غير مرتبة)</h3><ul><li>بيتزا</li><li>شوكولاتة</li><li>فواكه</li></ul><h3>أفضل 3 أفلام عندي (قائمة مرتبة)</h3><ol><li>فيلم الحرية</li><li>فيلم الإبداع</li><li>فيلم النجاح</li></ol><h3>مهامي اليومية</h3><ol><li>الصلاة</li><li>الدراسة</li><li>ممارسة الرياضة</li></ol>`,
                    exercise: `<p><strong>جرب بنفسك:</strong> أنشئ قائمة غير مرتبة بهواياتك، وقائمة مرتبة بأفضل 3 كتب/أفلام/ألعاب عندك</p>`
                }
            },
            {
                id: 5,
                title: "الصور والروابط",
                completed: false,
                content: {
                    title: "إضافة الصور والروابط",
                    explanation: `
                        <p>الصور والروابط يجعلان موقعك أكثر جاذبية وتفاعلية.</p>
                        
                        <h3>وسوم الوسائط:</h3>
                        <ul style="padding-right: 20px; margin-top: 10px;">
                            <li><span class="tag">&lt;img&gt;</span> - لإضافة صورة (لا يحتاج وسم إغلاق)</li>
                            <li><span class="attribute">src</span> - مصدر الصورة (الرابط)</li>
                            <li><span class="attribute">alt</span> - نص بديل يظهر إذا لم تظهر الصورة</li>
                            <li><span class="tag">&lt;a&gt;</span> - رابط للنقر عليه</li>
                            <li><span class="attribute">href</span> - عنوان الرابط</li>
                            <li><span class="attribute">target="_blank"</span> - لفتح الرابط في نافذة جديدة</li>
                        </ul>
                        
                        <div class="tip-box">
                            <div class="tip-title">
                                <i class="fas fa-lightbulb"></i>
                                <span>نصيحة مهمة</span>
                            </div>
                            <p>دائماً استخدم خاصية alt للصور لمساعدة ضعاف البصر ومحركات البحث.</p>
                        </div>
                        
                        <div class="motivation-section">
                            <p class="motivation-text">
                                إضافة الوسائط والروابط هي الخطوة التي تحول موقعك من صفحة نصية بسيطة إلى موقع ويب تفاعلي وجذاب.
                            </p>
                        </div>
                    `,
                    interactive: `
                        <textarea class="code-area" id="code-5"><h3>صور من الطبيعة</h3>
<img src="https://picsum.photos/400/300" alt="منظر طبيعي خلاب" width="100%">

<p>هذه صورة عشوائية من موقع picsum.photos</p>

<h3>روابط مفيدة</h3>
<a href="https://google.com">اذهب إلى جوجل</a>
<br>
<a href="https://youtube.com" target="_blank">شاهد يوتيوب (يفتح في نافذة جديدة)</a>

<h3>صورة مع رابط</h3>
<a href="https://example.com">
    <img src="https://picsum.photos/200/150" alt="صورة صغيرة" width="200">
</a>
<p>انقر على الصورة لزيارة الموقع</p></textarea>
                    `,
                    preview: `<h3>صور من الطبيعة</h3><img src="https://picsum.photos/400/300" alt="منظر طبيعي خلاب" width="100%"><p>هذه صورة عشوائية من موقع picsum.photos</p><h3>روابط مفيدة</h3><a href="https://google.com">اذهب إلى جوجل</a><br><a href="https://youtube.com" target="_blank">شاهد يوتيوب (يفتح في نافذة جديدة)</a><h3>صورة مع رابط</h3><a href="https://example.com"><img src="https://picsum.photos/200/150" alt="صورة صغيرة" width="200"></a><p>انقر على الصورة لزيارة الموقع</p>`,
                    exercise: `<p><strong>جرب بنفسك:</strong> أضف صورة من الإنترنت ورابط لموقعك المفضل، وجرب إضافة صورة داخل رابط</p>`
                }
            },
            {
                id: 6,
                title: "الختام والتهنئة",
                completed: false,
                content: {
                    title: "تهانينا! أكملت دورة HTML",
                    explanation: `
                        <div class="certificate" id="certificate">
                            <div class="certificate-content">
                                <h1 class="certificate-title">شهادة إتمام الدورة</h1>
                                <p class="certificate-subtitle">يُمنح هذه الشهادة إلى</p>
                                <div class="student-name" id="student-name">المتعلم المتميز</div>
                                <p class="certificate-text">لإتمامه دورة <strong>أساسيات HTML</strong> بنجاح وتفوق</p>
                                <p class="certificate-text">وقد أظهر فهمًا ممتازًا للمفاهيم الأساسية لبناء صفحات الويب</p>
                                
                                <div class="certificate-details">
                                    <div class="detail-item">
                                        <div class="detail-label">التقدير</div>
                                        <div class="detail-value" style="color: #FFD700;">ممتاز</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">تاريخ الإصدار</div>
                                        <div class="detail-value" id="certificate-date"></div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">المنصة</div>
                                        <div class="detail-value" style="color: #6C63FF;">ZMAX</div>
                                    </div>
                                </div>
                                
                                <div class="certificate-footer">
                                    <div class="signature">
                                        <div>مدير منصة ZMAX</div>
                                        <div class="signature-line"></div>
                                        <div>خبير تطوير الويب</div>
                                    </div>
                                    <button class="print-btn" onclick="printCertificate()">
                                        <i class="fas fa-print"></i> طباعة الشهادة
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="motivation-section">
                            <p class="motivation-text">
                                لقد أكملت بنجاح الخطوة الأولى في رحلة برمجة الويب. هذه مجرد البداية! استمر في التعلم والممارسة، وسيصبح بإمكانك إنشاء مواقع ويب احترافية.
                            </p>
                            <p class="quote">
                                "النجاح ليس نقطة وصول، بل رحلة مستمرة من التعلم والتطور"
                            </p>
                        </div>
                        
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 20px; border-radius: 10px; margin-top: 30px;">
                            <h3 style="color: var(--success);">الخطوة التالية: CSS</h3>
                            <p>الآن بعد أن أتقنت HTML، حان الوقت لجعل موقعك جميلاً باستخدام CSS!</p>
                            <button style="background: var(--primary); color: white; border: none; padding: 15px 30px; border-radius: 30px; font-size: 18px; margin-top: 20px; cursor: pointer;">ابدأ تعلم CSS</button>
                        </div>
                    `
                }
            }
        ];

        // متغيرات النظام
        const startScreen = document.getElementById('start-screen');
        const passwordScreen = document.getElementById('password-screen');
        const learningInterface = document.getElementById('learning-interface');
        const passwordInput = document.getElementById('password-input');
        const passwordError = document.getElementById('password-error');
        const progressEl = document.getElementById('global-progress');
        const progressTextEl = document.getElementById('progress-text');
        const lessonsList = document.getElementById('lessons-list');
        const lessonContent = document.getElementById('lesson-content');
        
        // كلمة المرور المطلوبة
        const requiredPassword = "ED18.4.9F";
        
        let currentLesson = 0;
        let userProgress = JSON.parse(localStorage.getItem('zmaxHtmlProgress')) || { completedLessons: [], progress: 0 };
        let studentName = "المتعلم المتميز";

        // تحميل التقدم المحفوظ
        function loadProgress() {
            const saved = localStorage.getItem('zmaxHtmlProgress');
            if (saved) {
                userProgress = JSON.parse(saved);
                
                // تحديث حالة إكمال الدروس
                htmlLessons.forEach((lesson, index) => {
                    lesson.completed = userProgress.completedLessons.includes(index);
                });
                
                updateProgressBar();
            }
            
            // تحميل اسم الطالب إذا كان محفوظاً
            const savedName = localStorage.getItem('zmaxStudentName');
            if (savedName) {
                studentName = savedName;
            } else {
                // طلب اسم الطالب إذا لم يكن محفوظاً
                const name = prompt("أدخل اسمك للمشاركة في الدورة والحصول على الشهادة:");
                if (name && name.trim() !== "") {
                    studentName = name.trim();
                    localStorage.setItem('zmaxStudentName', studentName);
                }
            }
        }

        // حفظ التقدم
        function saveProgress() {
            const completedLessons = htmlLessons
                .map((lesson, index) => lesson.completed ? index : -1)
                .filter(index => index !== -1);
                
            userProgress.completedLessons = completedLessons;
            userProgress.progress = Math.round((completedLessons.length / htmlLessons.length) * 100);
            
            localStorage.setItem('zmaxHtmlProgress', JSON.stringify(userProgress));
            updateProgressBar();
        }

        // بدء التعلم - الانتقال إلى نافذة كلمة المرور
        document.getElementById('start-learning').onclick = () => {
            startScreen.style.display = 'none';
            passwordScreen.style.display = 'flex';
            passwordInput.focus();
        };

        // العودة للشاشة الرئيسية من نافذة كلمة المرور
        document.getElementById('back-to-start-from-password').onclick = () => {
            passwordScreen.style.display = 'none';
            startScreen.style.display = 'flex';
            passwordError.style.display = 'none';
            passwordInput.value = '';
        };

        // التحقق من كلمة المرور
        document.getElementById('submit-password').onclick = checkPassword;

        // السماح بالضغط على Enter لإدخال كلمة المرور
        passwordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        function checkPassword() {
            const enteredPassword = passwordInput.value.trim();
            
            if (enteredPassword === requiredPassword) {
                // كلمة المرور صحيحة
                passwordScreen.style.display = 'none';
                learningInterface.style.display = 'block';
                loadProgress();
                renderLessons();
                showLesson(0);
                updateProgressBar();
                passwordError.style.display = 'none';
                passwordInput.value = '';
            } else {
                // كلمة المرور خاطئة
                passwordError.style.display = 'block';
                passwordInput.classList.add('shake');
                setTimeout(() => {
                    passwordInput.classList.remove('shake');
                }, 500);
                passwordInput.focus();
                passwordInput.select();
            }
        }

        // العودة للشاشة الرئيسية
        document.getElementById('back-to-start').onclick = () => {
            learningInterface.style.display = 'none';
            startScreen.style.display = 'flex';
        };

        // عرض قائمة الدروس
        function renderLessons() {
            lessonsList.innerHTML = '';
            htmlLessons.forEach((lesson, i) => {
                const li = document.createElement('li');
                li.className = `lesson-item ${lesson.completed ? 'completed' : ''} ${i === currentLesson ? 'active' : ''}`;
                li.innerHTML = `
                    <div class="lesson-icon">
                        <i class="fas ${lesson.completed ? 'fa-check' : 'fa-play'}"></i>
                    </div>
                    <div class="lesson-info">
                        <div class="lesson-title">${lesson.title}</div>
                    </div>
                `;
                li.onclick = () => { 
                    currentLesson = i; 
                    renderLessons(); 
                    showLesson(i); 
                };
                lessonsList.appendChild(li);
            });
        }

        // عرض الدرس الحالي
        function showLesson(idx) {
            currentLesson = idx;
            const lesson = htmlLessons[idx];
            const hasInteractive = lesson.content.interactive;

            lessonContent.innerHTML = `
                <div class="lesson-header">
                    <h2>${lesson.content.title || lesson.title}</h2>
                </div>
                <div class="explanation">${lesson.content.explanation || ''}</div>
                ${hasInteractive ? `
                <div class="interactive-demo">
                    <h3 class="demo-title">
                        <i class="fas fa-code"></i> جرب بنفسك
                    </h3>
                    <div class="demo-container">
                        <div class="code-editor">
                            <div class="editor-header">
                                <span>محرر HTML</span>
                                <button class="run-btn" onclick="runHTML(${idx+1})">
                                    <i class="fas fa-play"></i> تشغيل
                                </button>
                            </div>
                            ${lesson.content.interactive}
                        </div>
                        <div class="output-container">
                            <div class="output-header">المعاينة</div>
                            <div class="output-content" id="output-${idx+1}"></div>
                        </div>
                    </div>
                </div>
                ` : ''}
                ${lesson.content.exercise ? `
                <div class="exercise">
                    <h3 class="exercise-title">
                        <i class="fas fa-tasks"></i> تمرين عملي
                    </h3>
                    ${lesson.content.exercise}
                    <button class="show-hint" onclick="this.nextElementSibling.style.display='block';this.style.display='none'">
                        <i class="fas fa-lightbulb"></i> إظهار التلميح
                    </button>
                    <div class="hint">جرب ولا تخف من الأخطاء، هكذا نتعلم!</div>
                    <div class="success-message" id="success-${idx+1}">ممتاز! لقد أكملت الدرس بنجاح</div>
                </div>
                ` : ''}
                <div class="navigation">
                    <button class="nav-btn prev" ${idx === 0 ? 'disabled' : ''} onclick="showLesson(${idx-1})">
                        <i class="fas fa-arrow-right"></i> السابق
                    </button>
                    <button class="nav-btn next" ${idx === htmlLessons.length-1 ? 'disabled' : ''} onclick="showLesson(${idx+1})">
                        التالي <i class="fas fa-arrow-left"></i>
                    </button>
                </div>
            `;

            // إذا كان هذا هو درس الشهادة، قم بتحديث البيانات
            if (idx === htmlLessons.length - 1) {
                updateCertificate();
            }

            // تشغيل HTML تلقائياً إذا كان هناك محتوى تفاعلي
            if (hasInteractive) {
                setTimeout(() => runHTML(idx+1), 500);

                document.querySelectorAll('textarea').forEach(ta => {
                    ta.oninput = () => {
                        setTimeout(() => runHTML(idx+1), 300);
                        markCompleted(idx);
                    };
                });
            }
        }

        // تحديث الشهادة
        function updateCertificate() {
            const studentNameEl = document.getElementById('student-name');
            const certificateDateEl = document.getElementById('certificate-date');
            
            if (studentNameEl) {
                studentNameEl.textContent = studentName;
            }
            
            if (certificateDateEl) {
                const now = new Date();
                const dateString = now.toLocaleDateString('ar-EG', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                certificateDateEl.textContent = dateString;
            }
        }

        // طباعة الشهادة
        window.printCertificate = function() {
            window.print();
        };

        // تشغيل HTML وعرض النتيجة
        window.runHTML = function(id) {
            const code = document.getElementById('code-'+id).value;
            const output = document.getElementById('output-'+id);
            const fullCode = `<!DOCTYPE html><html dir="rtl"><head><meta charset="UTF-8"><style>body{font-family:Tajawal,Arial,sans-serif; padding:20px; background:#0d1b2a; color:white;}</style></head><body>${code}</body></html>`;
            output.innerHTML = `<iframe srcdoc="${fullCode.replace(/"/g, '&quot;')}" style="width:100%; height:100%; border:none;"></iframe>`;
            markCompleted(currentLesson);
        };

        // تحديد الدرس كمكتمل
        function markCompleted(idx) {
            if (!htmlLessons[idx].completed) {
                htmlLessons[idx].completed = true;
                updateProgressBar();
                saveProgress();
                renderLessons();
                document.getElementById(`success-${idx+1}`).style.display = 'block';
            }
        }

        // تحديث شريط التقدم
        function updateProgressBar() {
            const completed = htmlLessons.filter(l => l.completed).length;
            const percent = Math.round((completed / htmlLessons.length) * 100) || 0;
            progressEl.style.width = percent + '%';
            progressTextEl.textContent = percent + '% مكتمل';
        }

        // التهيئة الأولية
        updateProgressBar();
    </script>
</body>
</html>